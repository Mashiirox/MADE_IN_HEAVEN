import{r as D,j as m,a as U}from"./index.b93cc4f6.js";var G={exports:{}};(function(H){(function(R){var c=Y(),b=Z(),F=ee(),k=te(),L={imagePlaceholder:void 0,cacheBust:!1},v={toSvg:E,toPng:M,toJpeg:$,toBlob:J,toPixelData:w,impl:{fontFaces:F,images:k,util:c,inliner:b,options:{}}};H.exports=v;function E(n,t){return t=t||{},q(t),Promise.resolve(n).then(function(i){return X(i,t.filter,!0)}).then(_).then(K).then(r).then(function(i){return Q(i,t.width||c.width(n),t.height||c.height(n))});function r(i){return t.bgcolor&&(i.style.backgroundColor=t.bgcolor),t.width&&(i.style.width=t.width+"px"),t.height&&(i.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(s){i.style[s]=t.style[s]}),i}}function w(n,t){return V(n,t||{}).then(function(r){return r.getContext("2d").getImageData(0,0,c.width(n),c.height(n)).data})}function M(n,t){return V(n,t||{}).then(function(r){return r.toDataURL()})}function $(n,t){return t=t||{},V(n,t).then(function(r){return r.toDataURL("image/jpeg",t.quality||1)})}function J(n,t){return V(n,t||{}).then(c.canvasToBlob)}function q(n){typeof n.imagePlaceholder=="undefined"?v.impl.options.imagePlaceholder=L.imagePlaceholder:v.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust=="undefined"?v.impl.options.cacheBust=L.cacheBust:v.impl.options.cacheBust=n.cacheBust}function V(n,t){return E(n,t).then(c.makeImage).then(c.delay(100)).then(function(i){var s=r(n);return s.getContext("2d").drawImage(i,0,0),s});function r(i){var s=document.createElement("canvas");if(s.width=t.width||c.width(i),s.height=t.height||c.height(i),t.bgcolor){var l=s.getContext("2d");l.fillStyle=t.bgcolor,l.fillRect(0,0,s.width,s.height)}return s}}function X(n,t,r){if(!r&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(i).then(function(o){return s(n,o,t)}).then(function(o){return l(n,o)});function i(o){return o instanceof HTMLCanvasElement?c.makeImage(o.toDataURL()):o.cloneNode(!1)}function s(o,a,y){var A=o.childNodes;if(A.length===0)return Promise.resolve(a);return d(a,c.asArray(A),y).then(function(){return a});function d(j,x,p){var P=Promise.resolve();return x.forEach(function(I){P=P.then(function(){return X(I,p)}).then(function(C){C&&j.appendChild(C)})}),P}}function l(o,a){if(!(a instanceof Element))return a;return Promise.resolve().then(y).then(A).then(d).then(j).then(function(){return a});function y(){x(window.getComputedStyle(o),a.style);function x(p,P){p.cssText?P.cssText=p.cssText:I(p,P);function I(C,S){c.asArray(C).forEach(function(e){S.setProperty(e,C.getPropertyValue(e),C.getPropertyPriority(e))})}}}function A(){[":before",":after"].forEach(function(p){x(p)});function x(p){var P=window.getComputedStyle(o,p),I=P.getPropertyValue("content");if(I===""||I==="none")return;var C=c.uid();a.className=a.className+" "+C;var S=document.createElement("style");S.appendChild(e(C,p,P)),a.appendChild(S);function e(u,h,f){var g="."+u+":"+h,T=f.cssText?z(f):W(f);return document.createTextNode(g+"{"+T+"}");function z(N){var B=N.getPropertyValue("content");return N.cssText+" content: "+B+";"}function W(N){return c.asArray(N).map(B).join("; ")+";";function B(O){return O+": "+N.getPropertyValue(O)+(N.getPropertyPriority(O)?" !important":"")}}}}}function d(){o instanceof HTMLTextAreaElement&&(a.innerHTML=o.value),o instanceof HTMLInputElement&&a.setAttribute("value",o.value)}function j(){a instanceof SVGElement&&(a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a instanceof SVGRectElement&&["width","height"].forEach(function(x){var p=a.getAttribute(x);!p||a.style.setProperty(x,p)}))}}}function _(n){return F.resolveAll().then(function(t){var r=document.createElement("style");return n.appendChild(r),r.appendChild(document.createTextNode(t)),n})}function K(n){return k.inlineAll(n).then(function(){return n})}function Q(n,t,r){return Promise.resolve(n).then(function(i){return i.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(i)}).then(c.escapeXhtml).then(function(i){return'<foreignObject x="0" y="0" width="100%" height="100%">'+i+"</foreignObject>"}).then(function(i){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+i+"</svg>"}).then(function(i){return"data:image/svg+xml;charset=utf-8,"+i})}function Y(){return{escape:j,parseExtension:t,mimeType:r,dataAsUrl:d,isDataUrl:i,canvasToBlob:l,resolveUrl:o,getAndEncode:A,uid:a(),delay:x,asArray:p,escapeXhtml:P,makeImage:y,width:I,height:C};function n(){var e="application/font-woff",u="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:u,jpeg:u,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(e){var u=/\.([^\.\/]*?)$/g.exec(e);return u?u[1]:""}function r(e){var u=t(e).toLowerCase();return n()[u]||""}function i(e){return e.search(/^(data:)/)!==-1}function s(e){return new Promise(function(u){for(var h=window.atob(e.toDataURL().split(",")[1]),f=h.length,g=new Uint8Array(f),T=0;T<f;T++)g[T]=h.charCodeAt(T);u(new Blob([g],{type:"image/png"}))})}function l(e){return e.toBlob?new Promise(function(u){e.toBlob(u)}):s(e)}function o(e,u){var h=document.implementation.createHTMLDocument(),f=h.createElement("base");h.head.appendChild(f);var g=h.createElement("a");return h.body.appendChild(g),f.href=u,g.href=e,g.href}function a(){var e=0;return function(){return"u"+u()+e++;function u(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function y(e){return new Promise(function(u,h){var f=new Image;f.onload=function(){u(f)},f.onerror=h,f.src=e})}function A(e){var u=3e4;return v.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime()),new Promise(function(h){var f=new XMLHttpRequest;f.onreadystatechange=z,f.ontimeout=W,f.responseType="blob",f.timeout=u,f.open("GET",e,!0),f.send();var g;if(v.impl.options.imagePlaceholder){var T=v.impl.options.imagePlaceholder.split(/,/);T&&T[1]&&(g=T[1])}function z(){if(f.readyState===4){if(f.status!==200){g?h(g):N("cannot fetch resource: "+e+", status: "+f.status);return}var B=new FileReader;B.onloadend=function(){var O=B.result.split(/,/)[1];h(O)},B.readAsDataURL(f.response)}}function W(){g?h(g):N("timeout of "+u+"ms occured while fetching resource: "+e)}function N(B){console.error(B),h("")}})}function d(e,u){return"data:"+u+";base64,"+e}function j(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function x(e){return function(u){return new Promise(function(h){setTimeout(function(){h(u)},e)})}}function p(e){for(var u=[],h=e.length,f=0;f<h;f++)u.push(e[f]);return u}function P(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")}function I(e){var u=S(e,"border-left-width"),h=S(e,"border-right-width");return e.scrollWidth+u+h}function C(e){var u=S(e,"border-top-width"),h=S(e,"border-bottom-width");return e.scrollHeight+u+h}function S(e,u){var h=window.getComputedStyle(e).getPropertyValue(u);return parseFloat(h.replace("px",""))}}function Z(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:s,shouldProcess:t,impl:{readUrls:r,inline:i}};function t(l){return l.search(n)!==-1}function r(l){for(var o=[],a;(a=n.exec(l))!==null;)o.push(a[1]);return o.filter(function(y){return!c.isDataUrl(y)})}function i(l,o,a,y){return Promise.resolve(o).then(function(d){return a?c.resolveUrl(d,a):d}).then(y||c.getAndEncode).then(function(d){return c.dataAsUrl(d,c.mimeType(o))}).then(function(d){return l.replace(A(o),"$1"+d+"$3")});function A(d){return new RegExp(`(url\\(['"]?)(`+c.escape(d)+`)(['"]?\\))`,"g")}}function s(l,o,a){if(y())return Promise.resolve(l);return Promise.resolve(l).then(r).then(function(A){var d=Promise.resolve(l);return A.forEach(function(j){d=d.then(function(x){return i(x,j,o,a)})}),d});function y(){return!t(l)}}}function ee(){return{resolveAll:n,impl:{readAll:t}};function n(){return t().then(function(r){return Promise.all(r.map(function(i){return i.resolve()}))}).then(function(r){return r.join(`
`)})}function t(){return Promise.resolve(c.asArray(document.styleSheets)).then(i).then(r).then(function(l){return l.map(s)});function r(l){return l.filter(function(o){return o.type===CSSRule.FONT_FACE_RULE}).filter(function(o){return b.shouldProcess(o.style.getPropertyValue("src"))})}function i(l){var o=[];return l.forEach(function(a){try{c.asArray(a.cssRules||[]).forEach(o.push.bind(o))}catch(y){console.log("Error while reading CSS rules from "+a.href,y.toString())}}),o}function s(l){return{resolve:function(){var a=(l.parentStyleSheet||{}).href;return b.inlineAll(l.cssText,a)},src:function(){return l.style.getPropertyValue("src")}}}}}function te(){return{inlineAll:t,impl:{newImage:n}};function n(r){return{inline:i};function i(s){return c.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(s||c.getAndEncode).then(function(l){return c.dataAsUrl(l,c.mimeType(r.src))}).then(function(l){return new Promise(function(o,a){r.onload=o,r.onerror=a,r.src=l})})}}function t(r){if(!(r instanceof Element))return Promise.resolve(r);return i(r).then(function(){return r instanceof HTMLImageElement?n(r).inline():Promise.all(c.asArray(r.childNodes).map(function(s){return t(s)}))});function i(s){var l=s.style.getPropertyValue("background");return l?b.inlineAll(l).then(function(o){s.style.setProperty("background",o,s.style.getPropertyPriority("background"))}).then(function(){return s}):Promise.resolve(s)}}}})()})(G);var ne=G.exports;function re({onChange:H}){const[R,c]=D.exports.useState(72),[b,F]=D.exports.useState("#ff9900"),[k,L]=D.exports.useState("#ffffff"),[v,E]=D.exports.useState("#000000");return D.exports.useEffect(()=>{H({fontSize:R,hubBackgroundColor:b,pornTextColor:k,hubTextColor:v})},[R,b,k,v]),m("div",{className:"flex justify-center items-center",children:U("div",{className:"ph-setting",children:[U("div",{className:"ph-setting-content",children:[m("input",{type:"range",min:"30",max:"180",value:R,onChange:w=>c(parseInt(w.target.value))}),U("span",{className:"ml-2",children:[R,"\xA0px"]})]}),U("div",{className:"ph-setting-content",children:[m("span",{className:"mr-2",children:"suffix background"}),m("input",{type:"color",value:b,onChange:w=>F(w.target.value)})]}),U("div",{className:"ph-setting-content",children:[m("span",{className:"mr-2",children:"prefix text color"}),m("input",{type:"color",value:k,onChange:w=>L(w.target.value)})]}),U("div",{className:"ph-setting-content",children:[m("span",{className:"mr-2",children:"suffix text color"}),m("input",{type:"color",value:v,onChange:w=>E(w.target.value)})]})]})})}const oe={fontSize:72,hubBackgroundColor:"#ff9900",pornTextColor:"#ffffff",hubTextColor:"#000000"};function ae(){const[H,R]=D.exports.useState(oe),c=D.exports.useRef(null),{fontSize:b,hubBackgroundColor:F,pornTextColor:k,hubTextColor:L}=H;return U("div",{className:"ph-page",children:[U("div",{className:"w-full pt-10 flex justify-center mb-24",children:[m("span",{className:"ph-logo bg-black text-white",children:"Porn"}),m("span",{className:"ph-logo ph-logo-logo",children:"Hub"})]}),m("div",{className:"flex justify-center mb-24 text-white text-4xl font-bold",children:"Just For Fun"}),m("div",{className:"ph-preview",children:m("div",{className:"ph-preview-box",children:U("div",{className:"ph-view",ref:c,children:[m("span",{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"ph-preview-content ph-preview-porn",style:{fontSize:b,color:k},children:"edit\xA0"}),m("span",{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"ph-preview-content ph-preview-hub",style:{fontSize:b,color:L,backgroundColor:F},children:"this"})]})})}),m(re,{onChange:E=>R(E)}),m("div",{className:"flex justify-center mt-20 pb-20",children:m("div",{className:"ph-export",onClick:()=>{ne.toPng(c.current).then(E=>{const w=new Image;w.src=E;const M=document.createElement("a");M.href=w.src,M.download="logo.png",M.click()}).catch(E=>{throw alert("\u597D\u50CF\u51FA\u9519\u4E86..."),E})},children:"export"})})]})}export{ae as default};
